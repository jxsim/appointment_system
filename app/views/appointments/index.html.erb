<div class="container">
  <h1>My Appointments</h1>

  <div class="mb-3">
    <%= label_tag :appointment_date, 'Appointment Date', class: 'form-label' %>
    <%= date_field_tag :appointment_date, params[:appointment_date], class: 'form-control' %>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Appointment Date and Time</th>
        <th>Patient Name</th>
        <th>Patient Age</th>
        <th>Patient Gender</th>
        <th>Cancel</th>
      </tr>
    </thead>
    <tbody>
      <% @appointments.each do |appointment| %>
        <tr>
          <td><%= appointment.id %></td>
          <td><%= appointment.appointment_datetime %> - <%= appointment.appointment_datetime + 1.hour %></td>
          <td><%= appointment.patient.name %>
          <td><%= appointment.patient.age %>
          <td><%= GENDER[appointment.patient.gender] %>
          <td><%= button_to 'Cancel', doctor_appointment_path(doctor_id: appointment.doctor_id, id: appointment.id), class: 'btn btn-primary', method: :delete %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= javascript_pack_tag 'appointment' %>